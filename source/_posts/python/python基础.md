---
title: python基础
categories: [技术]
date: 2023-11-23 17:21:51
tags: [python]
---

python输入输出，基础数据类型和变量。

<!-- more -->

# 输入输出

* 输入
> name = input('请输入xx')

* 输出

```shell
>>> print('hello aa')
hello aa
>>> print('hello', '张三', 'haha')
hello 张三 haha
```
`print()` 输出时，遇到逗号 `,` 会转换成空格

# python基础

## 数据类型和变量

* **整数**

十六进制，使用 `0x` 开头

比较大的数，允许使用下划线 `_` 进行分隔，如 `10_000_000_000`

- **浮点数**

浮点数可以用数学写法，比如 `1.231`, 比较大的浮点数需要用科学计数法，把10用e替代， 比如 1.23x10^9，就是`1.23e9`

- **字符串**
 
字符串用单引号 `'` 或者 双引号 `"` 括起来，转义使用 `\` ，如果字符串里面有多个字符需要转义，可以使用 `r''` ，表示`''` 里面的字符串不转义。

```shell
>>> print(r'\r\n\t\r\n\t')
\r\n\t\r\n\t
>>>
```
* **布尔值**

使用 `True` 和 `False` 表示，注意大小写。

布尔值可以使用 `and` `or` 和 `not` 进行运算。 `and`是与运算，`or`是或运算，`not`是非运算，单目运算，取反。

* **空值**

空值使用 `None` 表示， 空值是一种特殊值。

* **变量**

变量在程序中就是用一个变量名表示了，变量名必须是大小写英文、数字和`_`的组合，且不能用数字开头，和 java 一样

在Python中，等号`=`是赋值语句，动态语言，同一个变量可以多次赋值，也可以赋不同类型的值。

变量的指向:

```shell
>>> a = 'ABC'
>>> b = a
>>> a = 'XYZ'
>>> print(b)
ABC
>>>
```

1. 内存中创建了 `ABC` 字符串
2. 内存中创建了名为 `a`的变量，并把它指向了 `ABC`
3. 创建了`b`，并把`b`指向了`a`所指向的数据`ABC`
4. 重新把 `a` 指向了 `XYZ`

* **常量**

用全部大写的变量名表示常量

除法 分为 `/` 和 `//` 地板除， `/`结果是浮点数，即使能够整除，结果也是浮点数，`//` 结果是整数。

```shell

>>>
>>> 10/3
3.3333333333333335
>>> 9/3
3.0
>>> 10//3
3
>>>
```

## 字符串和编码

一个字节(byte)使用8位(bit)， `UTF-8` 变长编码。

python的字符串类型是 `str`， 在内存中以Unicode表示，一个字符对应若干个字节。

对 `bytes`类型的数据，使用 `b`前缀的单引号或者双引号表示。

对单个字符的编码，`ord()` 函数获取字符的整数表示，`chr()`函数把编码转换为对应的字符。

```shell
>>> ord('a')
97
>>> ord('人')
20154
>>> chr(78)
'N'
>>>
>>> '\u4e2d\u6587'
'中文'

```

以 `Unicode`表示的 `str` 可以使用 `encode()`函数编码为指定的 `bytes`

```shell
>>>
>>> 'abc'.encode('ascii')
b'abc'
>>> 'abc'.encode('utf-8')
b'abc'
>>> '中文'.encode('utf-8')
b'\xe4\xb8\xad\xe6\x96\x87'
>>> 'abc12'.encode('ascii')
b'abc12'
>>>
```

相反， 从网络或者磁盘上读取到的字节流就是`bytes`，可以使用 `decode()` 方法转换为 `str`

`len()` 函数可以计算 `str`的字符数，也可以计算 `bytes` 的字节数

```shell
>>>
>>> len('中文')
2
>>> len('abc')
3
>>> len('中文'.encode('utf-8'))
6
>>>
```

要坚持使用 UTF-8 格式的编码， 文件需要添加下面的开头

```shell
 #!/usr/bin/env python3
 # -*- coding: utf-8 -*-
```

**格式化问题**

格式化方法和C语言一致，用 `%` 实现。 `%s` 代表用字符串替换，`%d`代表用整数替换，`%f`代表用浮点数替换，`%x`代表用十六进制替换。

> 'Hi, %s, you have $%d.' % ('Michael', 1000000)

格式化整数和浮点数还可以指定是否补0和整数与小数的位数

format()

也可以使用字符串的`format()` 方法来实现，传入的参数依次替换字符串内的占位符。

